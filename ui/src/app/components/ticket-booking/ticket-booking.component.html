<div class="container">

  <form class="search-form" [formGroup]="searchForm">

    <mat-form-field appearance="outline">
      <mat-label>Departure city</mat-label>
      <input formControlName="departure" matInput placeholder="City...">
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Destination city</mat-label>
      <input formControlName="destination" matInput placeholder="City...">
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Flight date</mat-label>
      <input matInput [matDatepicker]="picker1" formControlName="date">
      <mat-datepicker-toggle placeholder="dd/MM/yyyy" matSuffix
                             [for]="picker1"></mat-datepicker-toggle>
      <mat-datepicker #picker1></mat-datepicker>
    </mat-form-field>

    <button mat-raised-button [disabled]="searchForm.invalid" (click)="search()">Search</button>

  </form>


  <div class="rows" *ngIf="tickets && tickets.length > 0">

    <mat-card class="example-card" *ngFor="let ticket of tickets">
      <mat-card-header>
        <mat-card-title>
          Departure: {{ticket.departure}} <br>
          Destination: {{ticket.destination }}
          <br>
          Flight hour: {{ticket.hour}}</mat-card-title>
        <mat-card-subtitle>{{ticket.company}}</mat-card-subtitle>
      </mat-card-header>
      <mat-card-content>
        <p>
          {{ticket.description}}
        </p>
      </mat-card-content>
      <mat-card-actions>
        <h3>Price: {{ticket.price | currency}}</h3>
        <button mat-raised-button (click)="addBooking(ticket)">Add booking</button>
      </mat-card-actions>
    </mat-card>

  </div>

</div>
